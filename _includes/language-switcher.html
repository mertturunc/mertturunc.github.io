{% include language-utils.html %}

<!-- Full Language Switcher (Desktop) -->
<div class="language-switcher">
  <div class="language-switcher__toggle" id="lang-toggle">
    <span class="language-switcher__icon">ğŸŒ</span>
    <span class="language-switcher__current">
      {% if current_lang == 'tr' %}{{ t.general.turkish }}{% else %}{{ t.general.english }}{% endif %}
    </span>
    <span class="language-switcher__arrow">â–¼</span>
  </div>
  
  <div class="language-switcher__menu" id="lang-menu">
    <div class="language-switcher__section">
      {% if current_lang == 'tr' %}
        <a href="{{ alternate_url }}" class="language-switcher__link">ğŸ‡ºğŸ‡¸ {{ t.general.english }}</a>
      {% else %}
        <a href="{{ alternate_url }}" class="language-switcher__link">ğŸ‡¹ğŸ‡· {{ t.general.turkish }}</a>
      {% endif %}
    </div>
  </div>
</div>

<!-- Minimal Language Switcher (Mobile) -->
<a href="{{ alternate_url }}" class="language-switcher-minimal" title="{% if current_lang == 'tr' %}{{ t.general.english }}{% else %}{{ t.general.turkish }}{% endif %}">
  {% if current_lang == 'tr' %}ğŸ‡ºğŸ‡¸{% else %}ğŸ‡¹ğŸ‡·{% endif %}
</a>

<script>
document.addEventListener('DOMContentLoaded', function() {
  const toggle = document.getElementById('lang-toggle');
  const menu = document.getElementById('lang-menu');
  const switcher = toggle ? toggle.closest('.language-switcher') : null;
  
  if (toggle && menu && switcher) {
    toggle.addEventListener('click', function(e) {
      e.stopPropagation();
      menu.classList.toggle('language-switcher__menu--open');
      switcher.classList.toggle('language-switcher--open');
    });
    
    document.addEventListener('click', function() {
      menu.classList.remove('language-switcher__menu--open');
      switcher.classList.remove('language-switcher--open');
    });
    
    menu.addEventListener('click', function(e) {
      e.stopPropagation();
    });
  }
});
</script> 